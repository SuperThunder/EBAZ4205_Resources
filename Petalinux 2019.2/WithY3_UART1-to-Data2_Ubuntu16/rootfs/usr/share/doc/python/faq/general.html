<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>General Python FAQ</title>
<meta name="date" content="2006-02-26" />
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="general-python-faq">
<h1 class="title">General Python FAQ</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Date:</th>
<td>2006-02-26</td></tr>
<tr><th class="docinfo-name">Version:</th>
<td>8958</td></tr>
<tr class="field"><th class="docinfo-name">Web site:</th><td class="field-body"><a class="reference external" href="http://www.python.org/">http://www.python.org/</a></td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="auto-toc simple">
<li><a class="reference internal" href="#general-information" id="id1">1&nbsp;&nbsp;&nbsp;General Information</a><ul class="auto-toc">
<li><a class="reference internal" href="#what-is-python" id="id2">1.1&nbsp;&nbsp;&nbsp;What is Python?</a></li>
<li><a class="reference internal" href="#why-was-python-created-in-the-first-place" id="id3">1.2&nbsp;&nbsp;&nbsp;Why was Python created in the first place?</a></li>
<li><a class="reference internal" href="#what-is-python-good-for" id="id4">1.3&nbsp;&nbsp;&nbsp;What is Python good for?</a></li>
<li><a class="reference internal" href="#how-does-the-python-version-numbering-scheme-work" id="id5">1.4&nbsp;&nbsp;&nbsp;How does the Python version numbering scheme work?</a></li>
<li><a class="reference internal" href="#are-there-copyright-restrictions-on-the-use-of-python" id="id6">1.5&nbsp;&nbsp;&nbsp;Are there copyright restrictions on the use of Python?</a></li>
<li><a class="reference internal" href="#how-do-i-obtain-a-copy-of-the-python-source" id="id7">1.6&nbsp;&nbsp;&nbsp;How do I obtain a copy of the Python source?</a></li>
<li><a class="reference internal" href="#how-do-i-get-documentation-on-python" id="id8">1.7&nbsp;&nbsp;&nbsp;How do I get documentation on Python?</a></li>
<li><a class="reference internal" href="#i-ve-never-programmed-before-is-there-a-python-tutorial" id="id9">1.8&nbsp;&nbsp;&nbsp;I've never programmed before. Is there a Python tutorial?</a></li>
<li><a class="reference internal" href="#are-there-other-ftp-sites-that-mirror-the-python-distribution" id="id10">1.9&nbsp;&nbsp;&nbsp;Are there other FTP sites that mirror the Python distribution?</a></li>
<li><a class="reference internal" href="#is-there-a-newsgroup-or-mailing-list-devoted-to-python" id="id11">1.10&nbsp;&nbsp;&nbsp;Is there a newsgroup or mailing list devoted to Python?</a></li>
<li><a class="reference internal" href="#how-do-i-get-a-beta-test-version-of-python" id="id12">1.11&nbsp;&nbsp;&nbsp;How do I get a beta test version of Python?</a></li>
<li><a class="reference internal" href="#how-do-i-submit-bug-reports-and-patches-for-python" id="id13">1.12&nbsp;&nbsp;&nbsp;How do I submit bug reports and patches for Python?</a></li>
<li><a class="reference internal" href="#are-there-any-published-articles-about-python-that-i-can-reference" id="id14">1.13&nbsp;&nbsp;&nbsp;Are there any published articles about Python that I can reference?</a></li>
<li><a class="reference internal" href="#are-there-any-books-on-python" id="id15">1.14&nbsp;&nbsp;&nbsp;Are there any books on Python?</a></li>
<li><a class="reference internal" href="#where-in-the-world-is-www-python-org-located" id="id16">1.15&nbsp;&nbsp;&nbsp;Where in the world is www.python.org located?</a></li>
<li><a class="reference internal" href="#why-is-it-called-python" id="id17">1.16&nbsp;&nbsp;&nbsp;Why is it called Python?</a></li>
<li><a class="reference internal" href="#do-i-have-to-like-monty-python-s-flying-circus" id="id18">1.17&nbsp;&nbsp;&nbsp;Do I have to like &quot;Monty Python's Flying Circus&quot;?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-in-the-real-world" id="id19">2&nbsp;&nbsp;&nbsp;Python in the real world</a><ul class="auto-toc">
<li><a class="reference internal" href="#how-stable-is-python" id="id20">2.1&nbsp;&nbsp;&nbsp;How stable is Python?</a></li>
<li><a class="reference internal" href="#how-many-people-are-using-python" id="id21">2.2&nbsp;&nbsp;&nbsp;How many people are using Python?</a></li>
<li><a class="reference internal" href="#have-any-significant-projects-been-done-in-python" id="id22">2.3&nbsp;&nbsp;&nbsp;Have any significant projects been done in Python?</a></li>
<li><a class="reference internal" href="#what-new-developments-are-expected-for-python-in-the-future" id="id23">2.4&nbsp;&nbsp;&nbsp;What new developments are expected for Python in the future?</a></li>
<li><a class="reference internal" href="#is-it-reasonable-to-propose-incompatible-changes-to-python" id="id24">2.5&nbsp;&nbsp;&nbsp;Is it reasonable to propose incompatible changes to Python?</a></li>
<li><a class="reference internal" href="#what-is-the-python-software-foundation" id="id25">2.6&nbsp;&nbsp;&nbsp;What is the Python Software Foundation?</a></li>
<li><a class="reference internal" href="#is-python-y2k-year-2000-compliant" id="id26">2.7&nbsp;&nbsp;&nbsp;Is Python Y2K (Year 2000) Compliant?</a></li>
<li><a class="reference internal" href="#is-python-a-good-language-for-beginning-programmers" id="id27">2.8&nbsp;&nbsp;&nbsp;Is Python a good language for beginning programmers?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#upgrading-python" id="id28">3&nbsp;&nbsp;&nbsp;Upgrading Python</a><ul class="auto-toc">
<li><a class="reference internal" href="#what-is-this-bsddb185-module-my-application-keeps-complaining-about" id="id29">3.1&nbsp;&nbsp;&nbsp;What is this bsddb185 module my application keeps complaining about?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-s-design" id="id30">4&nbsp;&nbsp;&nbsp;Python's Design</a><ul class="auto-toc">
<li><a class="reference internal" href="#why-does-python-use-indentation-for-grouping-of-statements" id="id31">4.1&nbsp;&nbsp;&nbsp;Why does Python use indentation for grouping of statements?</a></li>
<li><a class="reference internal" href="#why-am-i-getting-strange-results-with-simple-arithmetic-operations" id="id32">4.2&nbsp;&nbsp;&nbsp;Why am I getting strange results with simple arithmetic operations?</a></li>
<li><a class="reference internal" href="#why-are-floating-point-calculations-so-inaccurate" id="id33">4.3&nbsp;&nbsp;&nbsp;Why are floating point calculations so inaccurate?</a></li>
<li><a class="reference internal" href="#why-are-python-strings-immutable" id="id34">4.4&nbsp;&nbsp;&nbsp;Why are Python strings immutable?</a></li>
<li><a class="reference internal" href="#why-must-self-be-used-explicitly-in-method-definitions-and-calls" id="id35">4.5&nbsp;&nbsp;&nbsp;Why must 'self' be used explicitly in method definitions and calls?</a></li>
<li><a class="reference internal" href="#why-can-t-i-use-an-assignment-in-an-expression" id="id36">4.6&nbsp;&nbsp;&nbsp;Why can't I use an assignment in an expression?</a></li>
<li><a class="reference internal" href="#why-does-python-use-methods-for-some-functionality-e-g-list-index-but-functions-for-other-e-g-len-list" id="id37">4.7&nbsp;&nbsp;&nbsp;Why does Python use methods for some functionality (e.g. list.index()) but functions for other (e.g. len(list))?</a></li>
<li><a class="reference internal" href="#why-is-join-a-string-method-instead-of-a-list-or-tuple-method" id="id38">4.8&nbsp;&nbsp;&nbsp;Why is join() a string method instead of a list or tuple method?</a></li>
<li><a class="reference internal" href="#how-fast-are-exceptions" id="id39">4.9&nbsp;&nbsp;&nbsp;How fast are exceptions?</a></li>
<li><a class="reference internal" href="#why-isn-t-there-a-switch-or-case-statement-in-python" id="id40">4.10&nbsp;&nbsp;&nbsp;Why isn't there a switch or case statement in Python?</a></li>
<li><a class="reference internal" href="#can-t-you-emulate-threads-in-the-interpreter-instead-of-relying-on-an-os-specific-thread-implementation" id="id41">4.11&nbsp;&nbsp;&nbsp;Can't you emulate threads in the interpreter instead of relying on an OS-specific thread implementation?</a></li>
<li><a class="reference internal" href="#why-can-t-lambda-forms-contain-statements" id="id42">4.12&nbsp;&nbsp;&nbsp;Why can't lambda forms contain statements?</a></li>
<li><a class="reference internal" href="#can-python-be-compiled-to-machine-code-c-or-some-other-language" id="id43">4.13&nbsp;&nbsp;&nbsp;Can Python be compiled to machine code, C or some other language?</a></li>
<li><a class="reference internal" href="#how-does-python-manage-memory" id="id44">4.14&nbsp;&nbsp;&nbsp;How does Python manage memory?</a></li>
<li><a class="reference internal" href="#why-isn-t-all-memory-freed-when-python-exits" id="id45">4.15&nbsp;&nbsp;&nbsp;Why isn't all memory freed when Python exits?</a></li>
<li><a class="reference internal" href="#why-are-there-separate-tuple-and-list-data-types" id="id46">4.16&nbsp;&nbsp;&nbsp;Why are there separate tuple and list data types?</a></li>
<li><a class="reference internal" href="#how-are-lists-implemented" id="id47">4.17&nbsp;&nbsp;&nbsp;How are lists implemented?</a></li>
<li><a class="reference internal" href="#how-are-dictionaries-implemented" id="id48">4.18&nbsp;&nbsp;&nbsp;How are dictionaries implemented?</a></li>
<li><a class="reference internal" href="#why-must-dictionary-keys-be-immutable" id="id49">4.19&nbsp;&nbsp;&nbsp;Why must dictionary keys be immutable?</a></li>
<li><a class="reference internal" href="#why-doesn-t-list-sort-return-the-sorted-list" id="id50">4.20&nbsp;&nbsp;&nbsp;Why doesn't list.sort() return the sorted list?</a></li>
<li><a class="reference internal" href="#how-do-you-specify-and-enforce-an-interface-spec-in-python" id="id51">4.21&nbsp;&nbsp;&nbsp;How do you specify and enforce an interface spec in Python?</a></li>
<li><a class="reference internal" href="#why-are-default-values-shared-between-objects" id="id52">4.22&nbsp;&nbsp;&nbsp;Why are default values shared between objects?</a></li>
<li><a class="reference internal" href="#why-is-there-no-goto" id="id53">4.23&nbsp;&nbsp;&nbsp;Why is there no goto?</a></li>
<li><a class="reference internal" href="#why-do-i-get-a-syntaxerror-for-a-continue-inside-a-try" id="id54">4.24&nbsp;&nbsp;&nbsp;Why do I get a SyntaxError for a 'continue' inside a 'try'?</a></li>
<li><a class="reference internal" href="#why-can-t-raw-strings-r-strings-end-with-a-backslash" id="id55">4.25&nbsp;&nbsp;&nbsp;Why can't raw strings (r-strings) end with a backslash?</a></li>
<li><a class="reference internal" href="#why-doesn-t-python-have-a-with-statement-like-some-other-languages" id="id56">4.26&nbsp;&nbsp;&nbsp;Why doesn't Python have a &quot;with&quot; statement like some other languages?</a></li>
<li><a class="reference internal" href="#why-are-colons-required-for-the-if-while-def-class-statements" id="id57">4.27&nbsp;&nbsp;&nbsp;Why are colons required for the if/while/def/class statements?</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="general-information">
<h1><a class="toc-backref" href="#id1">1&nbsp;&nbsp;&nbsp;General Information</a></h1>
<div class="section" id="what-is-python">
<h2><a class="toc-backref" href="#id2">1.1&nbsp;&nbsp;&nbsp;What is Python?</a></h2>
<p>Python is an interpreted, interactive, object-oriented programming
language.  It incorporates modules, exceptions, dynamic typing, very
high level dynamic data types, and classes.  Python combines
remarkable power with very clear syntax.  It has interfaces to many
system calls and libraries, as well as to various window systems, and
is extensible in C or C++.  It is also usable as an extension language
for applications that need a programmable interface.  Finally, Python
is portable: it runs on many Unix variants, on the Mac, and on PCs
under MS-DOS, Windows, Windows NT, and OS/2.</p>
<p>To find out more, start
with the <a class="reference external" href="http://www.python.org/moin/BeginnersGuide">Beginner's Guide to Python</a>.</p>
</div>
<div class="section" id="why-was-python-created-in-the-first-place">
<h2><a class="toc-backref" href="#id3">1.2&nbsp;&nbsp;&nbsp;Why was Python created in the first place?</a></h2>
<p>Here's a <em>very</em> brief summary of what started it all, written
by Guido van Rossum:</p>
<blockquote>
<p>I had extensive experience with implementing an interpreted language
in the ABC group at CWI, and from working with this group I had
learned a lot about language design.  This is the origin of many
Python features, including the use of indentation for statement
grouping and the inclusion of very-high-level data types (although the
details are all different in Python).</p>
<p>I had a number of gripes about the ABC language, but also liked many
of its features.  It was impossible to extend the ABC language (or its
implementation) to remedy my complaints -- in fact its lack of
extensibility was one of its biggest problems.  I had some experience
with using Modula-2+ and talked with the designers of Modula-3 and
read the Modula-3 report.  Modula-3 is the origin of the syntax and
semantics used for exceptions, and some other Python features.</p>
<p>I was working in the Amoeba distributed operating system group at
CWI.  We needed a better way to do system administration than by
writing either C programs or Bourne shell scripts, since Amoeba had
its own system call interface which wasn't easily accessible from the
Bourne shell.  My experience with error handling in Amoeba made me
acutely aware of the importance of exceptions as a programming
language feature.</p>
<p>It occurred to me that a scripting language with a syntax like ABC
but with access to the Amoeba system calls would fill the need.  I
realized that it would be foolish to write an Amoeba-specific
language, so I decided that I needed a language that was generally
extensible.</p>
<p>During the 1989 Christmas holidays, I had a lot of time on my hand,
so I decided to give it a try.  During the next year, while still
mostly working on it in my own time, Python was used in the Amoeba
project with increasing success, and the feedback from colleagues made
me add many early improvements.</p>
<p>In February 1991, after just over a year of development, I decided
to post to USENET.  The rest is in the Misc/HISTORY file.</p>
</blockquote>
</div>
<div class="section" id="what-is-python-good-for">
<h2><a class="toc-backref" href="#id4">1.3&nbsp;&nbsp;&nbsp;What is Python good for?</a></h2>
<p>Python is a high-level general-purpose programming language
that can be applied to many different classes of problems.</p>
<p>The language comes with a large standard library that covers areas
such as string processing (regular expressions, Unicode, calculating
differences between files), Internet protocols (HTTP, FTP, SMTP,
XML-RPC, POP, IMAP, CGI programming), software engineering (unit testing,
logging, profiling, parsing Python code), and operating system
interfaces (system calls, filesystems, TCP/IP sockets).  Look at the
table of contents for <a class="reference external" href="http://docs.python.org/lib/">the Library Reference</a> to get an idea of what's available.
A wide variety of third-party extensions are also available.
Consult <a class="reference external" href="http://cheeseshop.python.org/pypi">the Python Package Index</a> to find
packages of interest to you.</p>
</div>
<div class="section" id="how-does-the-python-version-numbering-scheme-work">
<h2><a class="toc-backref" href="#id5">1.4&nbsp;&nbsp;&nbsp;How does the Python version numbering scheme work?</a></h2>
<p>Python versions are numbered A.B.C or A.B.  A is the major version
number -- it is only incremented for really major changes in
the language.  B is the minor version number, incremented for less
earth-shattering changes.  C is the micro-level -- it is incremented
for each bugfix release.  See <a class="reference external" href="../../peps/pep-0006.html">PEP 6</a>
for more information about bugfix releases.</p>
<p>Not all releases are bugfix releases.  In the run-up to a new major
release, a series of development releases are made, denoted as alpha,
beta, or release candidate.  Alphas are early releases in which
interfaces aren't yet finalized; it's not unexpected to see an
interface change between two alpha releases.  Betas are more stable,
preserving existing interfaces but possibly adding new modules, and
release candidates are frozen, making no changes except as needed to
fix critical bugs.</p>
<p>Alpha, beta and release candidate versions have an additional
suffix.  The suffix for an alpha version is &quot;aN&quot; for some small
number N, the suffix for a beta version is &quot;bN&quot; for some small number
N, and the suffix for a release candidate version is &quot;cN&quot; for some
small number N.  In other words, all versions labeled 2.0aN precede
the versions labeled 2.0bN, which precede versions labeled 2.0cN, and
<em>those</em> precede 2.0.</p>
<p>You may also find version numbers with a &quot;+&quot; suffix, e.g. &quot;2.2+&quot;.
These are unreleased versions, built directly from the subversion trunk.
In practice, after a final minor release is made, the subversion trunk is
incremented to the next minor version, which becomes the &quot;a0&quot; version,
e.g. &quot;2.4a0&quot;.</p>
<p>See also the documentation for <tt class="docutils literal">sys.version</tt>, <tt class="docutils literal">sys.hexversion</tt>, and
<tt class="docutils literal">sys.version_info</tt>.</p>
</div>
<div class="section" id="are-there-copyright-restrictions-on-the-use-of-python">
<h2><a class="toc-backref" href="#id6">1.5&nbsp;&nbsp;&nbsp;Are there copyright restrictions on the use of Python?</a></h2>
<p>Not really.  You can do anything you want with the source, as long as
you leave the copyrights in and display those copyrights in any
documentation about Python that you produce.  If you honor the
copyright rules, it's OK to use Python for commercial use, to sell
copies of Python in source or binary form (modified or unmodified), or
to sell products that incorporate Python in some form.  We would still
like to know about all commercial use of Python, of course.</p>
<p>See <a class="reference external" href="../../psf/license.html">the PSF license page</a>
to find further explanations and a link to the full text of the
license.</p>
</div>
<div class="section" id="how-do-i-obtain-a-copy-of-the-python-source">
<h2><a class="toc-backref" href="#id7">1.6&nbsp;&nbsp;&nbsp;How do I obtain a copy of the Python source?</a></h2>
<p>The latest Python source distribution is always available from
python.org, at <a class="reference external" href="http://www.python.org/download/">http://www.python.org/download/</a>.  The latest
development sources can be obtained via anonymous subversion from
SourceForge, at <a class="reference external" href="http://svn.python.org/projects/python/trunk">http://svn.python.org/projects/python/trunk</a>.</p>
<p>The source distribution is a gzipped tar file containing the complete
C source, LaTeX documentation, Python library modules, example
programs, and several useful pieces of freely distributable software.
This will compile and run out of the box on most UNIX platforms.</p>
<p>Older versions of Python are also available from python.org.</p>
</div>
<div class="section" id="how-do-i-get-documentation-on-python">
<h2><a class="toc-backref" href="#id8">1.7&nbsp;&nbsp;&nbsp;How do I get documentation on Python?</a></h2>
<p>All documentation is available on-line, starting at
<a class="reference external" href="http://www.python.org/doc/">http://www.python.org/doc/</a>.</p>
<p>The standard documentation for the current stable version of Python is
also available at <a class="reference external" href="http://docs.python.org/">http://docs.python.org/</a>.</p>
<p>The LaTeX source for the documentation is part of the source
distribution.  If you don't have LaTeX, the latest Python
documentation set is available by anonymous FTP in various formats
such as PostScript and HTML.  Visit the above URL for links to the
current versions.</p>
</div>
<div class="section" id="i-ve-never-programmed-before-is-there-a-python-tutorial">
<h2><a class="toc-backref" href="#id9">1.8&nbsp;&nbsp;&nbsp;I've never programmed before. Is there a Python tutorial?</a></h2>
<p>There are numerous tutorials and books available.  Consult <a class="reference external" href="http://www.python.org/moin/BeginnersGuide">the
Beginner's Guide</a> to find
information for beginning Python programmers, including lists of
tutorials.</p>
</div>
<div class="section" id="are-there-other-ftp-sites-that-mirror-the-python-distribution">
<h2><a class="toc-backref" href="#id10">1.9&nbsp;&nbsp;&nbsp;Are there other FTP sites that mirror the Python distribution?</a></h2>
<p>Consult the list of python.org mirrors at <a class="reference external" href="http://www.python.org/Mirrors.html">http://www.python.org/Mirrors.html</a>.</p>
</div>
<div class="section" id="is-there-a-newsgroup-or-mailing-list-devoted-to-python">
<h2><a class="toc-backref" href="#id11">1.10&nbsp;&nbsp;&nbsp;Is there a newsgroup or mailing list devoted to Python?</a></h2>
<p>There is a newsgroup, comp.lang.python, and a mailing list,
<a class="reference external" href="http://mail.python.org/mailman/listinfo/python-list">python-list</a>.
The newsgroup and mailing list are gatewayed into each other -- if you
can read news it's unnecessary to subscribe to the mailing list.
comp.lang.python is high-traffic, receiving hundreds of postings every day,
and Usenet readers are often more able to cope with this volume.</p>
<p>Announcements of new software releases and events can be found in
comp.lang.python.announce, a low-traffic moderated list that receives
about five postings per day.
It's available as
<a class="reference external" href="http://mail.python.org/mailman/listinfo/python-announce-list">the python-announce mailing list</a>.</p>
<p>More info about other mailing lists and newsgroups
can be found at <a class="reference external" href="http://www.python.org/community/lists.html">http://www.python.org/community/lists.html</a>.</p>
</div>
<div class="section" id="how-do-i-get-a-beta-test-version-of-python">
<h2><a class="toc-backref" href="#id12">1.11&nbsp;&nbsp;&nbsp;How do I get a beta test version of Python?</a></h2>
<p>All releases, including alphas, betas and release candidates, are
announced on the comp.lang.python and comp.lang.python.announce
newsgroups.  All announcements also appear on the Python
home page, at <a class="reference external" href="http://www.python.org/">http://www.python.org/</a>; an RSS feed of news is available.</p>
<p>You can also access the development version of Python through subversion.
See <a class="reference external" href="http://www.python.org/dev/devfaq.html#subversion-svn">http://www.python.org/dev/devfaq.html#subversion-svn</a> for details.</p>
</div>
<div class="section" id="how-do-i-submit-bug-reports-and-patches-for-python">
<h2><a class="toc-backref" href="#id13">1.12&nbsp;&nbsp;&nbsp;How do I submit bug reports and patches for Python?</a></h2>
<p>To report a bug or submit a patch, please use the relevant service
from the Python project at SourceForge.</p>
<p>Bugs: <a class="reference external" href="http://sourceforge.net/tracker/?group_id=5470&amp;atid=105470">http://sourceforge.net/tracker/?group_id=5470&amp;atid=105470</a></p>
<p>Patches: <a class="reference external" href="http://sourceforge.net/tracker/?group_id=5470&amp;atid=305470">http://sourceforge.net/tracker/?group_id=5470&amp;atid=305470</a></p>
<p>You must have a SourceForge account to report bugs; this makes it
possible for us to contact you if we have follow-up questions.  It
will also enable SourceForge to send you updates as we act on your
bug.</p>
<p>For more information on how Python is developed, consult
<a class="reference external" href="../../dev/">the Python Developer's Guide</a>.</p>
</div>
<div class="section" id="are-there-any-published-articles-about-python-that-i-can-reference">
<h2><a class="toc-backref" href="#id14">1.13&nbsp;&nbsp;&nbsp;Are there any published articles about Python that I can reference?</a></h2>
<p>It's probably best to reference your favorite book about Python.</p>
<p>The very first article about Python is this very old article
that's now quite outdated.</p>
<blockquote>
Guido van Rossum and Jelke de Boer, &quot;Interactively Testing Remote
Servers Using the Python Programming Language&quot;, CWI Quarterly, Volume
4, Issue 4 (December 1991), Amsterdam, pp 283-303.</blockquote>
</div>
<div class="section" id="are-there-any-books-on-python">
<h2><a class="toc-backref" href="#id15">1.14&nbsp;&nbsp;&nbsp;Are there any books on Python?</a></h2>
<p>Yes, there are many, and more are being published.  See
the python.org Wiki at <a class="reference external" href="http://www.python.org/moin/PythonBooks">http://www.python.org/moin/PythonBooks</a> for a list.</p>
<p>You can also search online bookstores for &quot;Python&quot;
and filter out the Monty Python references; or
perhaps search for &quot;Python&quot; and &quot;language&quot;.</p>
</div>
<div class="section" id="where-in-the-world-is-www-python-org-located">
<h2><a class="toc-backref" href="#id16">1.15&nbsp;&nbsp;&nbsp;Where in the world is www.python.org located?</a></h2>
<p>It's currently in Amsterdam, graciously hosted by <a class="reference external" href="http://www.xs4all.nl">XS4ALL</a>.  Thanks to Thomas Wouters for his work in
arranging python.org's hosting.</p>
</div>
<div class="section" id="why-is-it-called-python">
<h2><a class="toc-backref" href="#id17">1.16&nbsp;&nbsp;&nbsp;Why is it called Python?</a></h2>
<p>At the same time he began implementing Python, Guido van Rossum was
also reading the published scripts from &quot;Monty Python's Flying Circus&quot;
(a BBC comedy series from the seventies, in the unlikely case you
didn't know).  It occurred to him that he needed a name that was
short, unique, and slightly mysterious, so he decided to call the
language Python.</p>
</div>
<div class="section" id="do-i-have-to-like-monty-python-s-flying-circus">
<h2><a class="toc-backref" href="#id18">1.17&nbsp;&nbsp;&nbsp;Do I have to like &quot;Monty Python's Flying Circus&quot;?</a></h2>
<p>No, but it helps.  :)</p>
</div>
</div>
<div class="section" id="python-in-the-real-world">
<h1><a class="toc-backref" href="#id19">2&nbsp;&nbsp;&nbsp;Python in the real world</a></h1>
<div class="section" id="how-stable-is-python">
<h2><a class="toc-backref" href="#id20">2.1&nbsp;&nbsp;&nbsp;How stable is Python?</a></h2>
<p>Very stable.  New, stable releases have been coming out roughly every
6 to 18 months since 1991, and this seems likely to continue.
Currently there are usually around 18 months between major releases.</p>
<p>With the introduction of retrospective &quot;bugfix&quot; releases the stability
of existing releases is being improved.  Bugfix releases, indicated by
a third component of the version number (e.g. 2.1.3, 2.2.2), are
managed for stability; only fixes for known problems are included in a
bugfix release, and it's guaranteed that interfaces will remain the
same throughout a series of bugfix releases.</p>
<p>The <a class="reference external" href="../../2.4.2/">2.4.2 release</a> is the most stable
version at this point in time.</p>
</div>
<div class="section" id="how-many-people-are-using-python">
<h2><a class="toc-backref" href="#id21">2.2&nbsp;&nbsp;&nbsp;How many people are using Python?</a></h2>
<p>Probably tens of thousands of users, though it's difficult to obtain
an exact count.  Python is available for free download, so there are
no sales figures, and it's available from many different sites and
packaged with many Linux distributions, so download statistics don't
tell the whole story either.  The comp.lang.python newsgroup is very
active, but not all Python users post to the group or even read it.
Overall there is no accurate estimate of the number of subscribers or
Python users.</p>
</div>
<div class="section" id="have-any-significant-projects-been-done-in-python">
<h2><a class="toc-backref" href="#id22">2.3&nbsp;&nbsp;&nbsp;Have any significant projects been done in Python?</a></h2>
<p>See <a class="reference external" href="http://www.pythonology.org/success">http://www.pythonology.org/success</a> for a list of projects that
use Python.  Consulting the proceedings for <a class="reference external" href="../../workshops/">past Python conferences</a> will reveal contributions from
many different companies and organizations.</p>
<p>High-profile Python projects include <a class="reference external" href="http://www.list.org">the Mailman mailing list manager</a> and <a class="reference external" href="http://www.zope.org">the Zope application server</a>.  Several Linux distributions, most
notably <a class="reference external" href="http://www.redhat.com">Red Hat</a>, have written part or all
of their installer and system administration software in Python.  Companies
that use Python internally include Google,
Yahoo, and Industrial Light &amp; Magic.</p>
</div>
<div class="section" id="what-new-developments-are-expected-for-python-in-the-future">
<h2><a class="toc-backref" href="#id23">2.4&nbsp;&nbsp;&nbsp;What new developments are expected for Python in the future?</a></h2>
<p>See <a class="reference external" href="http://www.python.org/peps">http://www.python.org/peps</a> for the Python Enhancement Proposals
(PEPs). PEPs are design documents describing a suggested new feature
for Python, providing a concise technical specification and a
rationale.
<a class="reference external" href="../../peps/pep-0001.html">PEP 1</a>
explains the PEP process and PEP format; read it
first if you want to submit a PEP.</p>
<p>New developments are discussed on <a class="reference external" href="http://mail.python.org/mailman/listinfo/python-dev/">the python-dev mailing list</a>.</p>
</div>
<div class="section" id="is-it-reasonable-to-propose-incompatible-changes-to-python">
<h2><a class="toc-backref" href="#id24">2.5&nbsp;&nbsp;&nbsp;Is it reasonable to propose incompatible changes to Python?</a></h2>
<p>In general, no.  There are already millions of lines of Python code
around the world, so any change in the language that invalidates more
than a very small fraction of existing programs has to be frowned
upon.  Even if you can provide a conversion program, there still is
the problem of updating all documentation; many books have been
written about Python, and we don't want to invalidate them all at a
single stroke.</p>
<p>Providing a gradual upgrade path is necessary if a feature has to be
changed.  <a class="reference external" href="../../peps/pep-0005.html">PEP 5</a>
describes the procedure followed for introducing backward-incompatible
changes while minimizing disruption for users.</p>
</div>
<div class="section" id="what-is-the-python-software-foundation">
<h2><a class="toc-backref" href="#id25">2.6&nbsp;&nbsp;&nbsp;What is the Python Software Foundation?</a></h2>
<p>The Python Software Foundation is an independent non-profit
organization that holds the copyright on Python versions 2.1 and
newer.  The PSF's mission is to advance open source technology related
to the Python programming language and to publicize the use of
Python.  The PSF's home page is at <a class="reference external" href="http://www.python.org/psf/">http://www.python.org/psf/</a>.</p>
<p>Donations to the PSF are tax-exempt in the US.  If you use Python and
find it helpful, please contribute via <a class="reference external" href="../../psf/donations.html">the PSF donation page</a>.</p>
</div>
<div class="section" id="is-python-y2k-year-2000-compliant">
<h2><a class="toc-backref" href="#id26">2.7&nbsp;&nbsp;&nbsp;Is Python Y2K (Year 2000) Compliant?</a></h2>
<p>As of August, 2003 no major problems have been reported and Y2K
compliance seems to be a non-issue.</p>
<p>Python does very few date calculations and for those it does perform relies
on the C library functions.  Python generally represents times either
as seconds since 1970 or as a <tt class="docutils literal">(year, month, day, <span class="pre">...)</span></tt> tuple where the
year is expressed with four digits, which makes Y2K bugs unlikely.  So
as long as your C library is okay, Python should be okay.  Of course,
it's possible that a particular application written in Python
makes assumptions about 2-digit years.</p>
<p>Because Python is available free of charge, there are no absolute
guarantees.  If there <em>are</em> unforseen problems, liability is the
user's problem rather than the developers', and there is nobody you can sue
for damages.  The Python copyright notice contains the following
disclaimer:</p>
<blockquote>
<p>4. PSF is making Python 2.3 available to Licensee on an &quot;AS IS&quot;
basis.  PSF MAKES NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR
IMPLIED.  BY WAY OF EXAMPLE, BUT NOT LIMITATION, PSF MAKES NO AND
DISCLAIMS ANY REPRESENTATION OR WARRANTY OF MERCHANTABILITY OR FITNESS
FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF PYTHON 2.3 WILL NOT
INFRINGE ANY THIRD PARTY RIGHTS.</p>
<p>5. PSF SHALL NOT BE LIABLE TO LICENSEE OR ANY OTHER USERS OF PYTHON
2.3 FOR ANY INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES OR LOSS AS
A RESULT OF MODIFYING, DISTRIBUTING, OR OTHERWISE USING PYTHON 2.3,
OR ANY DERIVATIVE THEREOF, EVEN IF ADVISED OF THE POSSIBILITY THEREOF.</p>
</blockquote>
<p>The good news is that <em>if</em> you encounter a problem, you have full
source available to track it down and fix it.  This is one advantage of
an open source programming environment.</p>
</div>
<div class="section" id="is-python-a-good-language-for-beginning-programmers">
<h2><a class="toc-backref" href="#id27">2.8&nbsp;&nbsp;&nbsp;Is Python a good language for beginning programmers?</a></h2>
<p>Yes.  If you want to discuss Python's use in education, then you may
be interested in joining <a class="reference external" href="../../sigs/edu-sig">the edu-sig mailing list</a>.</p>
<p>It is still common to start students with a procedural (subset of a)
statically typed language such as Pascal, C, or a subset of C++ or
Java.  Students may be better served by learning Python as their first
language.  Python has a very simple and consistent syntax and a large
standard library and, most importantly, using Python in a beginning
programming course permits students to concentrate on important
programming skills such as problem decomposition and data type design.
With Python, students can be quickly introduced to basic concepts such
as loops and procedures.  They can even probably work with
user-defined objects in their very first course.</p>
<p>For a student who has never programmed before, using a statically
typed language seems unnatural.  It presents additional complexity
that the student must master and slows the pace of the course.  The
students are trying to learn to think like a computer, decompose
problems, design consistent interfaces, and encapsulate data.  While
learning to use a statically typed language is important in the long
term, it is not necessarily the best topic to address in the students'
first programming course.</p>
<p>Many other aspects of Python make it a good first language.
Like Java, Python has a large standard library so that
students can be assigned programming projects very early in the
course that <em>do</em> something.  Assignments aren't restricted to the
standard four-function calculator and check balancing programs.
By using the standard library, students can gain the satisfaction
of working on realistic applications as they learn the fundamentals
of programming.  Using the standard library also teaches students
about code reuse.  Third-party modules such as PyGame are also helpful in
extending the students' reach.</p>
<p>Python's interactive interpreter enables students to
test language features while they're programming.  They can keep
a window with the interpreter running while they enter their
program's source in another window.  If they can't remember the
methods for a list, they can do something like this:</p>
<pre class="literal-block">
&gt;&gt;&gt; L = []
&gt;&gt;&gt; dir(L)
['append', 'count', 'extend', 'index', 'insert', 'pop', 'remove',
'reverse', 'sort']
&gt;&gt;&gt; help(L.append)
Help on built-in function append:

append(...)
    L.append(object) -- append object to end
&gt;&gt;&gt; L.append(1)
&gt;&gt;&gt; L
[1]
</pre>
<p>With the interpreter, documentation is never far from the
student as he's programming.</p>
<p>There are also good IDEs for Python.  IDLE is a cross-platform IDE for
Python that is written in Python using Tkinter.  PythonWin is a
Windows-specific IDE.  Emacs users will be happy to know that there is
a very good Python mode for Emacs.  All of these programming
environments provide syntax highlighting, auto-indenting, and access
to the interactive interpreter while coding.  Consult
<a class="reference external" href="http://www.python.org/editors/">http://www.python.org/editors/</a> for a full list of Python editing
environments.</p>
</div>
</div>
<div class="section" id="upgrading-python">
<h1><a class="toc-backref" href="#id28">3&nbsp;&nbsp;&nbsp;Upgrading Python</a></h1>
<div class="section" id="what-is-this-bsddb185-module-my-application-keeps-complaining-about">
<h2><a class="toc-backref" href="#id29">3.1&nbsp;&nbsp;&nbsp;What is this bsddb185 module my application keeps complaining about?</a></h2>
<p>Starting with Python2.3, the distribution includes the <cite>PyBSDDB package
&lt;http://pybsddb.sf.net/&gt;</cite> as a replacement for the old bsddb module.  It
includes functions which provide backward compatibility at the API level,
but requires a newer version of the underlying <a class="reference external" href="http://www.sleepycat.com">Berkeley DB</a> library.  Files created with the older bsddb
module can't be opened directly using the new module.</p>
<p>Using your old version of Python and a pair of scripts which are part of
Python 2.3 (db2pickle.py and pickle2db.py, in the Tools/scripts directory)
you can convert your old database files to the new format.  Using your old
Python version, run the db2pickle.py script to convert it to a pickle,
e.g.:</p>
<pre class="literal-block">
python2.2 &lt;pathto&gt;/db2pickley.py database.db database.pck
</pre>
<p>Rename your database file:</p>
<pre class="literal-block">
mv database.db olddatabase.db
</pre>
<p>Now convert the pickle file to a new format database:</p>
<pre class="literal-block">
python2.3 &lt;pathto&gt;/pickle2db.py database.db database.pck
</pre>
<p>The precise commands you use will vary depending on the particulars of your
installation.  For full details about operation of these two scripts check
the doc string at the start of each one.</p>
</div>
</div>
<div class="section" id="python-s-design">
<h1><a class="toc-backref" href="#id30">4&nbsp;&nbsp;&nbsp;Python's Design</a></h1>
<div class="section" id="why-does-python-use-indentation-for-grouping-of-statements">
<h2><a class="toc-backref" href="#id31">4.1&nbsp;&nbsp;&nbsp;Why does Python use indentation for grouping of statements?</a></h2>
<p>Guido van Rossum believes that using indentation for grouping is extremely elegant
and contributes a lot to the clarity of the average Python program.  Most
people learn to love this feature after awhile.</p>
<p>Since there are no begin/end brackets there cannot be a disagreement between
grouping perceived by the parser and the human reader.  Occasionally C
programmers will encounter a fragment of code like this:</p>
<pre class="literal-block">
if (x &lt;= y)
        x++;
        y--;
z++;
</pre>
<p>Only the <tt class="docutils literal">x++</tt> statement is executed if the condition is true, but
the indentation leads you to believe otherwise.
Even experienced C programmers will sometimes
stare a long time at it wondering why y is being decremented even for
<tt class="docutils literal">x &gt; y</tt>.</p>
<p>Because there are no begin/end brackets, Python is much less prone to
coding-style conflicts.  In C there are many different ways to place the
braces.  If you're used to reading
and writing code that uses one style, you will feel at least slightly
uneasy when reading (or being required to write) another style.</p>
<p>Many coding styles place begin/end brackets on a line by themself.  This
makes programs considerably longer and wastes valuable screen space, making
it harder to get a good overview of a program.  Ideally, a function should
fit on onescreen (say, 20-30 lines).  20 lines of Python can do
a lot more work than 20 lines of C.  This is not solely due to the lack of
begin/end brackets -- the lack of declarations and the high-level data types
are also responsible -- but the indentation-based syntax certainly helps.</p>
</div>
<div class="section" id="why-am-i-getting-strange-results-with-simple-arithmetic-operations">
<h2><a class="toc-backref" href="#id32">4.2&nbsp;&nbsp;&nbsp;Why am I getting strange results with simple arithmetic operations?</a></h2>
<p>See the next question.</p>
</div>
<div class="section" id="why-are-floating-point-calculations-so-inaccurate">
<h2><a class="toc-backref" href="#id33">4.3&nbsp;&nbsp;&nbsp;Why are floating point calculations so inaccurate?</a></h2>
<p>People are often very surprised by results like this:</p>
<pre class="literal-block">
&gt;&gt;&gt; 1.2-1.0
0.199999999999999996
</pre>
<p>and think it is a bug in Python. It's not. It's a problem caused by
the internal representation of floating point numbers, which uses a
fixed number of binary digits to represent a decimal number.  Some
decimal numbers can't be represented exactly in binary, resulting in
small roundoff errors.</p>
<p>In decimal math, there are many numbers that can't be represented with a
fixed number of decimal digits, e.g.  1/3 = 0.3333333333.......</p>
<p>In base 2, 1/2 = 0.1, 1/4 = 0.01, 1/8 = 0.001, etc.
.2 equals 2/10 equals 1/5, resulting in the binary fractional number
0.001100110011001...</p>
<p>Floating point numbers only have 32 or 64 bits of precision, so the digits are cut off at some point,
and the resulting number is 0.199999999999999996 in decimal, not 0.2.</p>
<p>A floating point's <tt class="docutils literal">repr()</tt> function prints as many digits are
necessary to make <tt class="docutils literal">eval(repr(f)) == f</tt> true for any float f.  The
<tt class="docutils literal">str()</tt> function prints fewer digits and this often results in the
more sensible number that was probably intended:</p>
<pre class="literal-block">
&gt;&gt;&gt; 0.2
0.20000000000000001
&gt;&gt;&gt; print 0.2
0.2
</pre>
<p>Again, this has nothing to do with Python, but with the way the underlying C
platform handles floating point numbers, and ultimately with the inaccuracy
you'll always have when writing down numbers as a string of a fixed number
of digits.</p>
<p>One of the consequences of this is that it is dangerous to compare the
result of some computation to a float with == !  Tiny inaccuracies may mean
that == fails.
Instead, you have to check that the difference between the
two numbers is less than a certain threshold:</p>
<pre class="literal-block">
epsilon = 0.0000000000001 # Tiny allowed error
expected_result = 0.4

if expected_result-epsilon &lt;= computation() &lt;= expected_result+epsilon:
   ...
</pre>
<p>Please see the chapter on
<a class="reference external" href="http://docs.python.org/tut/node16.html">floating point arithmetic</a>
in the Python tutorial for more information.</p>
</div>
<div class="section" id="why-are-python-strings-immutable">
<h2><a class="toc-backref" href="#id34">4.4&nbsp;&nbsp;&nbsp;Why are Python strings immutable?</a></h2>
<p>There are several advantages.</p>
<p>One is performance: knowing that a string is
immutable makes it easy to lay it out at construction time -- fixed and
unchanging storage requirements.  This is also one of the reasons for the
distinction between tuples and lists.</p>
<p>The other is that strings in Python are considered as &quot;elemental&quot; as
numbers.  No amount of activity will change the value 8 to anything
else, and in Python, no amount of activity will change the string
&quot;eight&quot; to anything else.</p>
</div>
<div class="section" id="why-must-self-be-used-explicitly-in-method-definitions-and-calls">
<h2><a class="toc-backref" href="#id35">4.5&nbsp;&nbsp;&nbsp;Why must 'self' be used explicitly in method definitions and calls?</a></h2>
<p>The idea was borrowed from Modula-3.  It turns out to be very useful,
for a variety of reasons.</p>
<p>First, it's more obvious that you are using a method or instance
attribute instead of a local variable.  Reading <tt class="docutils literal">self.x</tt> or <tt class="docutils literal">self.meth()</tt>
makes it absolutely clear that an instance variable or method is used even
if you don't know the class definition by heart.  In C++, you can sort of
tell by the lack of a local variable declaration (assuming globals are rare
or easily recognizable) -- but in Python, there are no local variable
declarations, so you'd have to look up the class definition to be sure.
Some C++ and Java coding standards call for instance attributes to have an
<tt class="docutils literal">m_</tt> prefix, so this explicitness is still useful in those languages, too.</p>
<p>Second, it means that no special syntax is necessary if you want to
explicitly reference or call the method from a particular class.  In C++, if
you want to use a method from a base class which is overridden in a derived
class, you have to use the :: operator -- in Python you can write
baseclass.methodname(self, &lt;argument list&gt;).  This is particularly useful
for __init__() methods, and in general in cases where a derived class method
wants to extend the base class method of the same name and thus has to call
the base class method somehow.</p>
<p>Finally, for instance variables it solves a syntactic problem with
assignment: since local variables in Python are (by definition!) those
variables to which a value assigned in a function body (and that aren't
explicitly declared global), there has to be some way to tell the
interpreter that an assignment was meant to assign to an instance variable
instead of to a local variable, and it should preferably be syntactic (for
efficiency reasons).  C++ does this through declarations, but Python doesn't
have declarations and it would be a pity having to introduce them just for
this purpose.  Using the explicit &quot;self.var&quot; solves this nicely.  Similarly,
for using instance variables, having to write &quot;self.var&quot; means that
references to unqualified names inside a method don't have to search the
instance's directories.  To put it another way, local variables and
instance variables live in two different namespaces, and you need to
tell Python which namespace to use.</p>
</div>
<div class="section" id="why-can-t-i-use-an-assignment-in-an-expression">
<h2><a class="toc-backref" href="#id36">4.6&nbsp;&nbsp;&nbsp;Why can't I use an assignment in an expression?</a></h2>
<p>Many people used to C or Perl complain that they want to
use this C idiom:</p>
<pre class="literal-block">
while (line = readline(f)) {
    ...do something with line...
}
</pre>
<p>where in Python you're forced to write this:</p>
<pre class="literal-block">
while True:
    line = f.readline()
    if not line:
        break
    ...do something with line...
</pre>
<p>The reason for not allowing assignment in Python expressions
is a common, hard-to-find bug in those other languages,
caused by this construct:</p>
<pre class="literal-block">
if (x = 0) {
    ...error handling...
}
else {
    ...code that only works for nonzero x...
}
</pre>
<p>The error is a simple typo: <tt class="docutils literal">x = 0</tt>, which assigns 0 to the variable <tt class="docutils literal">x</tt>,
was written while the comparison <tt class="docutils literal">x == 0</tt> is certainly what was intended.</p>
<p>Many alternatives have been proposed.  Most are hacks that save some
typing but use arbitrary or cryptic syntax or keywords,
and fail the simple criterion for language change proposals:
it should intuitively suggest the proper meaning to a human reader
who has not yet been introduced to the construct.</p>
<p>An interesting phenomenon is that most experienced Python programmers
recognize the &quot;while True&quot; idiom and don't seem to be missing the
assignment in expression construct much; it's only newcomers
who express a strong desire to add this to the language.</p>
<p>There's an alternative way of spelling this that seems
attractive but is generally less robust than the &quot;while True&quot; solution:</p>
<pre class="literal-block">
line = f.readline()
while line:
    ...do something with line...
    line = f.readline()
</pre>
<p>The problem with this is that if you change your mind about exactly
how you get the next line (e.g. you want to change it into
<tt class="docutils literal">sys.stdin.readline()</tt>) you have to remember to change two places in
your program -- the second occurrence is hidden at the bottom of the
loop.</p>
<p>The best approach is to use iterators, making it possible to loop
through objects using the <tt class="docutils literal">for</tt> statement.  For example, in the
current version of Python file objects support the iterator protocol, so you
can now write simply:</p>
<pre class="literal-block">
for line in f:
    ... do something with line...
</pre>
</div>
<div class="section" id="why-does-python-use-methods-for-some-functionality-e-g-list-index-but-functions-for-other-e-g-len-list">
<h2><a class="toc-backref" href="#id37">4.7&nbsp;&nbsp;&nbsp;Why does Python use methods for some functionality (e.g. list.index()) but functions for other (e.g. len(list))?</a></h2>
<p>The major reason is history. Functions were used for those operations
that were generic for a group of types and which were intended to work
even for objects that didn't have methods at all (e.g. tuples).  It is
also convenient to have a function that can readily be applied to an
amorphous collection of objects when you use the functional features
of Python (<tt class="docutils literal">map()</tt>, <tt class="docutils literal">apply()</tt> et al).</p>
<p>In fact, implementing <tt class="docutils literal">len()</tt>, <tt class="docutils literal">max()</tt>, <tt class="docutils literal">min()</tt> as a built-in
function is actually less code than implementing them as methods for
each type.  One can quibble about individual cases but it's a part of
Python, and it's too late to make such fundamental changes now. The
functions have to remain to avoid massive code breakage.</p>
<p>Note that for string operations Python has moved from external functions
(the <tt class="docutils literal">string</tt> module) to methods.  However, <tt class="docutils literal">len()</tt> is still a function.</p>
</div>
<div class="section" id="why-is-join-a-string-method-instead-of-a-list-or-tuple-method">
<h2><a class="toc-backref" href="#id38">4.8&nbsp;&nbsp;&nbsp;Why is join() a string method instead of a list or tuple method?</a></h2>
<p>Strings became much more like other standard types starting in Python
1.6, when methods were added which give the same functionality that
has always been available using the functions of the string module.
Most of these new methods have been widely accepted, but the one which
appears to make some programmers feel uncomfortable is:</p>
<pre class="literal-block">
&quot;, &quot;.join(['1', '2', '4', '8', '16'])
</pre>
<p>which gives the result:</p>
<pre class="literal-block">
&quot;1, 2, 4, 8, 16&quot;
</pre>
<p>There are two usual arguments against this usage.</p>
<p>The first runs along the lines of: &quot;It looks really ugly using a method of a
string literal (string constant)&quot;, to which the answer is that it might, but
a string literal is just a fixed value. If the methods are to be allowed on
names bound to strings there is no logical reason to make them unavailable
on literals.</p>
<p>The second objection is typically cast as: &quot;I am really telling a sequence
to join its members together with a string constant&quot;. Sadly, you aren't. For
some reason there seems to be much less difficulty with having split() as a
string method, since in that case it is easy to see that</p>
<pre class="literal-block">
&quot;1, 2, 4, 8, 16&quot;.split(&quot;, &quot;)
</pre>
<p>is an instruction to a string literal to return the substrings delimited by
the given separator (or, by default, arbitrary runs of white space). In this
case a Unicode string returns a list of Unicode strings, an ASCII string
returns a list of ASCII strings, and everyone is happy.</p>
<p>join() is a string method because in using it you are telling the separator
string to iterate over an arbitrary sequence, forming string representations
of each of the elements, and inserting itself between the elements'
representations.  This method can be used with any argument which obeys the
rules for sequence objects, inluding any new classes you might define
yourself.</p>
<p>Because this is a string method it can work for Unicode strings as well as
plain ASCII strings. If join() were a method of the sequence types then the
sequence types would have to decide which type of string to return depending
on the type of the separator.</p>
<p>If none of these arguments persuade you, then for the moment you can
continue to use the join() function from the string module, which allows you
to write</p>
<pre class="literal-block">
string.join(['1', '2', '4', '8', '16'], &quot;, &quot;)
</pre>
</div>
<div class="section" id="how-fast-are-exceptions">
<h2><a class="toc-backref" href="#id39">4.9&nbsp;&nbsp;&nbsp;How fast are exceptions?</a></h2>
<p>A try/except block is extremely efficient.  Actually executing an exception
is expensive.  In versions of Python prior to 2.0 it was common to use this
idiom:</p>
<pre class="literal-block">
try:
    value = dict[key]
except KeyError:
    dict[key] = getvalue(key)
    value = dict[key]
</pre>
<p>This only made sense when you expected the dict to have the key almost all
the time.  If that wasn't the case, you coded it like this:</p>
<pre class="literal-block">
if dict.has_key(key):
    value = dict[key]
else:
    dict[key] = getvalue(key)
    value = dict[key]
</pre>
<p>(In Python 2.0 and higher, you can code this as
<tt class="docutils literal">value = dict.setdefault(key, getvalue(key))</tt>.)</p>
</div>
<div class="section" id="why-isn-t-there-a-switch-or-case-statement-in-python">
<h2><a class="toc-backref" href="#id40">4.10&nbsp;&nbsp;&nbsp;Why isn't there a switch or case statement in Python?</a></h2>
<p>You can do this easily enough with a sequence of <tt class="docutils literal"><span class="pre">if...</span> <span class="pre">elif...</span> <span class="pre">elif...</span> else</tt>.
There have been some proposals for switch statement syntax, but there is no
consensus (yet) on whether and how to do range tests.  See <a class="reference external" href="../../peps/pep-0275.html">PEP 275</a> for complete details and
the current status.</p>
<p>For cases where you need to choose from a very large number of
possibilities, you can create a dictionary mapping case values to
functions to call.  For example:</p>
<pre class="literal-block">
def function_1 (...):
    ...

functions = {'a': function_1,
             'b': function_2,
             'c': self.method_1, ...}

func = functions[value]
func()
</pre>
<p>For calling methods on objects, you can simplify yet further by using
the <tt class="docutils literal">getattr()</tt> built-in to retrieve methods with a particular name:</p>
<pre class="literal-block">
def visit_a (self, ...):
    ...
...

def dispatch (self, value):
    method_name = 'visit_' + str(value)
    method = getattr(self, method_name)
    method()
</pre>
<p>It's suggested that you use a prefix for the method names, such as
<tt class="docutils literal">visit_</tt> in this example.  Without such a prefix, if values are coming
from an untrusted source, an attacker would be able to call any method
on your object.</p>
</div>
<div class="section" id="can-t-you-emulate-threads-in-the-interpreter-instead-of-relying-on-an-os-specific-thread-implementation">
<h2><a class="toc-backref" href="#id41">4.11&nbsp;&nbsp;&nbsp;Can't you emulate threads in the interpreter instead of relying on an OS-specific thread implementation?</a></h2>
<p>Answer 1: Unfortunately, the interpreter pushes at least one C stack frame
for each Python stack frame.  Also, extensions can call back into Python at
almost random moments.  Therefore, a complete threads implementation
requires thread support for C.</p>
<p>Answer 2: Fortunately, there is <a class="reference external" href="http://www.stackless.com">Stackless Python</a>, which has a completely redesigned interpreter
loop that avoids the C stack.  It's still experimental but looks very
promising.  Although it is binary compatible with standard Python, it's
still unclear whether Stackless will make it into the core -- maybe it's
just too revolutionary.</p>
</div>
<div class="section" id="why-can-t-lambda-forms-contain-statements">
<h2><a class="toc-backref" href="#id42">4.12&nbsp;&nbsp;&nbsp;Why can't lambda forms contain statements?</a></h2>
<p>Python lambda forms cannot contain statements because Python's syntactic
framework can't handle statements nested inside expressions.  However, in
Python, this is not a serious problem.  Unlike lambda forms in other
languages, where they add functionality, Python lambdas are only a shorthand
notation if you're too lazy to define a function.</p>
<p>Functions are already first class objects in Python, and can be declared in
a local scope.  Therefore the only advantage of using a lambda form instead
of a locally-defined function is that you don't need to invent a name for
the function -- but that's just a local variable to which the function
object (which is exactly the same type of object that a lambda form yields)
is assigned!</p>
</div>
<div class="section" id="can-python-be-compiled-to-machine-code-c-or-some-other-language">
<h2><a class="toc-backref" href="#id43">4.13&nbsp;&nbsp;&nbsp;Can Python be compiled to machine code, C or some other language?</a></h2>
<p>Not easily.  Python's high level data types, dynamic typing of objects and
run-time invocation of the interpreter (using <tt class="docutils literal">eval()</tt> or <tt class="docutils literal">exec</tt>) together mean
that a &quot;compiled&quot; Python program would probably consist mostly of calls into
the Python run-time system, even for seemingly simple operations like
<tt class="docutils literal">x+1</tt>.</p>
<p>Several projects described in the Python newsgroup or at past <a class="reference external" href="../../workshops/">Python
conferences</a> have shown that this
approach is feasible, although the speedups reached so far are only
modest (e.g. 2x).  Jython uses the same strategy for compiling to Java
bytecode.  (Jim Hugunin has demonstrated that in combination with
whole-program analysis, speedups of 1000x are feasible for small demo
programs.  See the proceedings from the <a class="reference external" href="../../workshops/1997-10/proceedings/">1997 Python conference</a> for more
information.)</p>
<p>Internally, Python source code is always translated into a bytecode
representation, and this bytecode is then executed by the Python
virtual machine.  In order to avoid the overhead of repeatedly parsing
and translating modules that rarely change, this byte code is written
into a file whose name ends in &quot;.pyc&quot; whenever a module is parsed.
When the corresponding .py file is changed, it is parsed and
translated again and the .pyc file is rewritten.</p>
<p>There is no performance difference once the .pyc file has been loaded,
as the bytecode read from the .pyc file is exactly the same as the
bytecode created by direct translation.  The only difference is that
loading code from a .pyc file is faster than parsing and translating a
.py file, so the presence of precompiled .pyc files improves the
start-up time of Python scripts.  If desired, the Lib/compileall.py
module can be used to create valid .pyc files for a given set of
modules.</p>
<p>Note that the main script executed by Python, even if its filename
ends in .py, is not compiled to a .pyc file.  It is compiled to
bytecode, but the bytecode is not saved to a file.  Usually main
scripts are quite short, so this doesn't cost much speed.</p>
<p>There are also several programs which make it easier to intermingle
Python and C code in various ways to increase performance.  See, for
example, <a class="reference external" href="http://psyco.sourceforge.net/">Psyco</a>,
<a class="reference external" href="http://www.cosc.canterbury.ac.nz/~greg/python/Pyrex/">Pyrex</a>, <a class="reference external" href="http://pyinline.sourceforge.net/">PyInline</a>, <a class="reference external" href="http://sourceforge.net/projects/py2cmod/">Py2Cmod</a>, and <a class="reference external" href="http://www.scipy.org/site_content/weave">Weave</a>.</p>
</div>
<div class="section" id="how-does-python-manage-memory">
<h2><a class="toc-backref" href="#id44">4.14&nbsp;&nbsp;&nbsp;How does Python manage memory?</a></h2>
<p>The details of Python memory management depend on the implementation.
The standard C implementation of Python uses reference counting to
detect inaccessible objects, and another mechanism to collect
reference cycles, periodically executing a cycle detection algorithm
which looks for inaccessible cycles and deletes the objects
involved. The <tt class="docutils literal">gc</tt> module provides functions to perform a garbage
collection, obtain debugging statistics, and tune the collector's
parameters.</p>
<p>Jython relies on the Java runtime so the JVM's garbage collector is
used.  This difference can cause some subtle porting problems if your
Python code depends on the behavior of the reference counting
implementation.</p>
<p>Sometimes objects get stuck in tracebacks temporarily and hence are not
deallocated when you might expect.  Clear the tracebacks with:</p>
<pre class="literal-block">
import sys
sys.exc_clear()
sys.exc_traceback = sys.last_traceback = None
</pre>
<p>Tracebacks are used for reporting errors, implementing debuggers and related
things.  They contain a portion of the program state extracted during the
handling of an exception (usually the most recent exception).</p>
<p>In the absence of circularities and tracebacks, Python programs need
not explicitly manage memory.</p>
<p>Why doesn't Python use a more traditional garbage collection scheme?
For one thing, this is not a C standard feature and hence it's not
portable.  (Yes, we know about the Boehm GC library.  It has bits of
assembler code for <em>most</em> common platforms, not for all of them, and
although it is mostly transparent, it isn't completely transparent;
patches are required to get Python to work with it.)</p>
<p>Traditional GC also becomes a problem when Python is embedded into other
applications.  While in a standalone Python it's fine to replace the
standard malloc() and free() with versions provided by the GC library, an
application embedding Python may want to have its <em>own</em> substitute for
malloc() and free(), and may not want Python's.  Right now, Python works
with anything that implements malloc() and free() properly.</p>
<p>In Jython, the following code (which is fine in CPython) will probably run
out of file descriptors long before it runs out of memory:</p>
<pre class="literal-block">
for file in &lt;very long list of files&gt;:
    f = open(file)
    c = f.read(1)
</pre>
<p>Using the current reference counting and destructor scheme, each new
assignment to f closes the previous file.  Using GC, this is not
guaranteed.  If you want to write code that will work with any Python
implementation, you should explicitly close the file; this will work
regardless of GC:</p>
<pre class="literal-block">
for file in &lt;very long list of files&gt;:
    f = open(file)
    c = f.read(1)
    f.close()
</pre>
</div>
<div class="section" id="why-isn-t-all-memory-freed-when-python-exits">
<h2><a class="toc-backref" href="#id45">4.15&nbsp;&nbsp;&nbsp;Why isn't all memory freed when Python exits?</a></h2>
<p>Objects referenced from the global namespaces of
Python modules are not always deallocated when Python exits.
This may happen if there are circular references.  There are also
certain bits of memory that are allocated by the C library that are
impossible to free (e.g. a tool like Purify will complain about
these).  Python is, however, aggressive about cleaning up memory on
exit and does try to destroy every single object.</p>
<p>If you want to force Python to delete certain things on deallocation
use the <tt class="docutils literal">sys.exitfunc()</tt> hook to run a function that will force
those deletions.</p>
</div>
<div class="section" id="why-are-there-separate-tuple-and-list-data-types">
<h2><a class="toc-backref" href="#id46">4.16&nbsp;&nbsp;&nbsp;Why are there separate tuple and list data types?</a></h2>
<p>Lists and tuples, while similar in many respects, are generally used
in fundamentally different ways.  Tuples can be thought of as being
similar to Pascal records or C structs; they're small collections of
related data which may be of different types which are operated on as
a group.  For example, a Cartesian coordinate is appropriately
represented as a tuple of two or three numbers.</p>
<p>Lists, on the other hand, are more like arrays in other languages.  They
tend to hold a varying number of objects all of which have the same type and
which are operated on one-by-one.  For example, <tt class="docutils literal"><span class="pre">os.listdir('.')</span></tt> returns
a list of strings representing the files in the current directory.
Functions which operate on this output would generally not break if you
added another file or two to the directory.</p>
<p>Tuples are immutable, meaning that once a tuple has been created, you
can't replace any of its elements with a new value.  Lists are
mutable, meaning that you can always change a list's elements.  Only
immutable elements can be used as dictionary keys, and hence only
tuples and not lists can be used as keys.</p>
</div>
<div class="section" id="how-are-lists-implemented">
<h2><a class="toc-backref" href="#id47">4.17&nbsp;&nbsp;&nbsp;How are lists implemented?</a></h2>
<p>Python's lists are really variable-length arrays, not Lisp-style
linked lists.  The implementation uses a contiguous array of
references to other objects, and keeps a pointer to this array and the
array's length in a list head structure.</p>
<p>This makes indexing a list <tt class="docutils literal">a[i]</tt> an operation whose cost is independent of
the size of the list or the value of the index.</p>
<p>When items are appended or inserted, the array of references is resized.
Some cleverness is applied to improve the performance of appending items
repeatedly; when the array must be grown, some extra space is allocated so
the next few times don't require an actual resize.</p>
</div>
<div class="section" id="how-are-dictionaries-implemented">
<h2><a class="toc-backref" href="#id48">4.18&nbsp;&nbsp;&nbsp;How are dictionaries implemented?</a></h2>
<p>Python's dictionaries are implemented as resizable hash tables.
Compared to B-trees, this gives better performance for lookup
(the most common operation by far) under most circumstances,
and the implementation is simpler.</p>
<p>Dictionaries work by computing a hash code for each key stored in the
dictionary using the <tt class="docutils literal">hash()</tt> built-in function.  The hash code
varies widely depending on the key; for example, &quot;Python&quot; hashes to
-539294296 while &quot;python&quot;, a string that differs by a single bit,
hashes to 1142331976.  The hash code is then used to calculate a
location in an internal array where the value will be stored.
Assuming that you're storing keys that all have different hash values,
this means that dictionaries take constant time -- O(1), in computer
science notation -- to retrieve a key.  It also means that no sorted
order of the keys is maintained, and traversing the array as the
<tt class="docutils literal">.keys()</tt> and <tt class="docutils literal">.items()</tt> do will output the dictionary's content
in some arbitrary jumbled order.</p>
</div>
<div class="section" id="why-must-dictionary-keys-be-immutable">
<h2><a class="toc-backref" href="#id49">4.19&nbsp;&nbsp;&nbsp;Why must dictionary keys be immutable?</a></h2>
<p>The hash table implementation of dictionaries uses a hash value
calculated from the key value to find the key.  If the key were a
mutable object, its value could change, and thus its hash could also
change.  But since whoever changes the key object can't tell that it
was being used as a dictionary key, it can't move the entry around in the
dictionary.  Then, when you try to look up the same object in the
dictionary it won't be found because its hash value is different.
If you tried to look up the old value it wouldn't be found either, because
the value of the object found in that hash bin would be different.</p>
<p>If you want a dictionary indexed with a list, simply convert the list
to a tuple first; the function <tt class="docutils literal">tuple(L)</tt> creates a tuple with the
same entries as the list <tt class="docutils literal">L</tt>.  Tuples are immutable and can
therefore be used as dictionary keys.</p>
<p>Some unacceptable solutions that have been proposed:</p>
<ul>
<li><p class="first">Hash lists by their address (object ID).  This doesn't work because
if you construct a new list with the same value it won't be found;
e.g.:</p>
<pre class="literal-block">
d = {[1,2]: '12'}
print d[[1,2]]
</pre>
<p>would raise a KeyError exception because the id of the <tt class="docutils literal">[1,2]</tt> used in
the second line differs from that in the first line.  In other
words, dictionary keys should be compared using <tt class="docutils literal">==</tt>, not using
'is'.</p>
</li>
<li><p class="first">Make a copy when using a list as a key.  This doesn't work because
the list, being a mutable object, could contain a reference to
itself, and then the copying code would run into an infinite loop.</p>
</li>
<li><p class="first">Allow lists as keys but tell the user not to modify them.  This
would allow a class of hard-to-track bugs in programs when you forgot
or modified a list by accident. It also
invalidates an important invariant of
dictionaries: every value in <tt class="docutils literal">d.keys()</tt> is usable as a key of the
dictionary.</p>
</li>
<li><p class="first">Mark lists as read-only once they are used as a dictionary key.  The
problem is that it's not just the top-level object that could change
its value; you could use a tuple containing a list as a key.
Entering anything as a key into a dictionary would require marking
all objects reachable from there as read-only -- and again,
self-referential objects could cause an infinite loop.</p>
</li>
</ul>
<p>There is a trick to get around this if you need to, but
use it at your own risk:  You
can wrap a mutable structure inside a class instance which
has both a __cmp__ and a __hash__ method.
You must then make sure that the hash value for all such wrapper objects
that reside in a dictionary (or other hash based structure), remain
fixed while the object is in the dictionary (or other structure).:</p>
<pre class="literal-block">
class ListWrapper:
     def __init__(self, the_list):
           self.the_list = the_list
     def __cmp__(self, other):
           return self.the_list == other.the_list
     def __hash__(self):
           l = self.the_list
           result = 98767 - len(l)*555
           for i in range(len(l)):
                try:
                     result = result + (hash(l[i]) % 9999999) * 1001 + i
                except:
                     result = (result % 7777777) + i * 333
           return result
</pre>
<p>Note that the hash computation is complicated by the
possibility that some members of the list may be unhashable
and also by the possibility of arithmetic overflow.</p>
<p>Furthermore it must always be the case that if
<tt class="docutils literal">o1 == o2</tt> (ie <tt class="docutils literal"><span class="pre">o1.__cmp__(o2)==0</span></tt>) then <tt class="docutils literal"><span class="pre">hash(o1)==hash(o2)</span></tt>
(ie, <tt class="docutils literal">o1.__hash__() == o2.__hash__()</tt>), regardless of whether
the object is in a dictionary or not.
If you fail to meet these restrictions dictionaries and other
hash based structures will misbehave.</p>
<p>In the case of ListWrapper, whenever the wrapper
object is in a dictionary the wrapped list must not change
to avoid anomalies.  Don't do this unless you are prepared
to think hard about the requirements and the consequences
of not meeting them correctly.  Consider yourself warned.</p>
</div>
<div class="section" id="why-doesn-t-list-sort-return-the-sorted-list">
<h2><a class="toc-backref" href="#id50">4.20&nbsp;&nbsp;&nbsp;Why doesn't list.sort() return the sorted list?</a></h2>
<p>In situations where performance matters, making a copy
of the list just to sort it would be wasteful. Therefore,
list.sort() sorts the list in place. In order to remind you
of that fact, it does not return the sorted list. This way,
you won't be fooled into accidentally overwriting a list
when you need a sorted copy but also need to keep the
unsorted version around.</p>
<p>In Python 2.4 a new builtin - sorted() - has been added.
This function creates a new list from a passed
iterable, sorts it and returns it.</p>
<p>As a result, here's the idiom to iterate over the keys of a
dictionary in sorted order:</p>
<pre class="literal-block">
for key in sorted(dict.iterkeys()):
    ...do whatever with dict[key]...
</pre>
<p>Versions of Python prior to 2.4 need to use the following idiom:</p>
<pre class="literal-block">
keys = dict.keys()
keys.sort()
for key in keys:
    ...do whatever with dict[key]...
</pre>
</div>
<div class="section" id="how-do-you-specify-and-enforce-an-interface-spec-in-python">
<h2><a class="toc-backref" href="#id51">4.21&nbsp;&nbsp;&nbsp;How do you specify and enforce an interface spec in Python?</a></h2>
<p>An interface specification for a module as provided by languages such
as C++ and Java describes the prototypes for the methods and functions
of the module.  Many feel that compile-time enforcement of interface
specifications help in the construction of large programs.  Python
does not support interface specifications directly, but many of their
advantages can be obtained by an appropriate test discipline for
components, which can often be very easily accomplished in Python.
There is also a tool, PyChecker, which can be used to find problems
due to subclassing.</p>
<p>A good test suite for a module can at once provide a regression test
and serve as both a module interface specification and a set of
examples.  Many Python modules can be run as a script to provide a
simple &quot;self test.&quot;  Even modules which use complex external
interfaces can often be tested in isolation using trivial &quot;stub&quot;
emulations of the external interface.  The <tt class="docutils literal">doctest</tt> and
<tt class="docutils literal">unittest</tt> modules or third-party test frameworks can be used to construct
exhaustive test suites that exercise every line of code in a module.</p>
<p>An appropriate testing discipline can help build large complex
applications in Python as well as having interface specifications
would.  In fact, it can be better because an interface specification
cannot test certain properties of a program.  For example, the
<tt class="docutils literal">append()</tt> method is expected to add new elements to the end of some
internal list; an interface specification cannot test that your
<tt class="docutils literal">append()</tt> implementation will actually do this correctly, but it's
trivial to check this property in a test suite.</p>
<p>Writing test suites is very helpful, and you might want to design your
code with an eye to making it easily tested.  One increasingly popular
technique, test-directed development, calls for writing parts of the
test suite first, before you write any of the actual code.  Of course
Python allows you to be sloppy and not write test cases at all.</p>
</div>
<div class="section" id="why-are-default-values-shared-between-objects">
<h2><a class="toc-backref" href="#id52">4.22&nbsp;&nbsp;&nbsp;Why are default values shared between objects?</a></h2>
<p>This type of bug commonly bites neophyte programmers.  Consider this function:</p>
<pre class="literal-block">
def foo(D={}):  # Danger: shared reference to one dict for all calls
    ... compute something ...
    D[key] = value
    return D
</pre>
<p>The first time you call this function, <tt class="docutils literal">D</tt> contains a single item.
The second time, <tt class="docutils literal">D</tt> contains two items because when <tt class="docutils literal">foo()</tt> begins executing,
<tt class="docutils literal">D</tt> starts out with an item already in it.</p>
<p>It is often expected that a function call creates new objects for
default values. This is not what happens. Default values are created
exactly once, when the function is defined.  If that object is
changed, like the dictionary in this example, subsequent calls to the
function will refer to this changed object.</p>
<p>By definition, immutable objects such as numbers, strings, tuples, and
<tt class="docutils literal">None</tt>, are safe from change. Changes to mutable objects such as
dictionaries, lists, and class instances can lead to confusion.</p>
<p>Because of this feature, it is good programming practice to not use mutable
objects as default values.  Instead, use <tt class="docutils literal">None</tt> as the default value
and inside the function, check if the parameter is <tt class="docutils literal">None</tt> and create a new list/dictionary/whatever
if it is.  For example, don't write:</p>
<pre class="literal-block">
def foo(dict={}):
    ...
</pre>
<p>but:</p>
<pre class="literal-block">
def foo(dict=None):
    if dict is None:
        dict = {} # create a new dict for local namespace
</pre>
<p>This feature can be useful.  When you have a function that's time-consuming to compute,
a common technique is to cache the parameters and the resulting value of each
call to the function, and return the cached value if the same value is requested again.
This is called &quot;memoizing&quot;, and can be implemented like this:</p>
<pre class="literal-block">
# Callers will never provide a third parameter for this function.
def expensive (arg1, arg2, _cache={}):
    if _cache.has_key((arg1, arg2)):
        return _cache[(arg1, arg2)]

    # Calculate the value
    result = ... expensive computation ...
    _cache[(arg1, arg2)] = result           # Store result in the cache
    return result
</pre>
<p>You could use a global variable containing a dictionary instead of
the default value; it's a matter of taste.</p>
</div>
<div class="section" id="why-is-there-no-goto">
<h2><a class="toc-backref" href="#id53">4.23&nbsp;&nbsp;&nbsp;Why is there no goto?</a></h2>
<p>You can use exceptions to provide a &quot;structured goto&quot;
that even works across function calls.  Many feel that exceptions
can conveniently emulate all reasonable uses of the &quot;go&quot; or &quot;goto&quot;
constructs of C, Fortran, and other languages.  For example:</p>
<pre class="literal-block">
class label: pass # declare a label

try:
     ...
     if (condition): raise label() # goto label
     ...
except label: # where to goto
     pass
...
</pre>
<p>This doesn't allow you to jump into the middle of a loop, but
that's usually considered an abuse of goto anyway.  Use sparingly.</p>
</div>
<div class="section" id="why-do-i-get-a-syntaxerror-for-a-continue-inside-a-try">
<h2><a class="toc-backref" href="#id54">4.24&nbsp;&nbsp;&nbsp;Why do I get a SyntaxError for a 'continue' inside a 'try'?</a></h2>
<p>This is an implementation limitation, caused by the extremely
simple-minded way Python generates bytecode.  The <tt class="docutils literal">try</tt> block pushes
something on the &quot;block stack&quot; which the <tt class="docutils literal">continue</tt> would have to pop
off again.  The current code generator doesn't have the data
structures around so that <tt class="docutils literal">continue</tt> can generate the right code.</p>
<p>Note that Jython doesn't have this restriction!</p>
</div>
<div class="section" id="why-can-t-raw-strings-r-strings-end-with-a-backslash">
<h2><a class="toc-backref" href="#id55">4.25&nbsp;&nbsp;&nbsp;Why can't raw strings (r-strings) end with a backslash?</a></h2>
<p>More precisely, they can't end with an odd number of backslashes:
the unpaired backslash at the end escapes the closing quote character,
leaving an unterminated string.</p>
<p>Raw strings were designed to ease creating input for processors
(chiefly regular expression engines) that want to do their own
backslash escape processing. Such processors consider an unmatched
trailing backslash to be an error anyway, so raw strings disallow
that.  In return, they allow you to pass on the string quote character
by escaping it with a backslash.  These rules work well when r-strings
are used for their intended purpose.</p>
<p>If you're trying to build Windows pathnames, note that all Windows
system calls accept forward slashes too:</p>
<pre class="literal-block">
f = open(&quot;/mydir/file.txt&quot;) # works fine!
</pre>
<p>If you're trying to build a pathname for a DOS command, try e.g. one of</p>
<pre class="literal-block">
dir = r&quot;\this\is\my\dos\dir&quot; &quot;\\&quot;
dir = r&quot;\this\is\my\dos\dir\ &quot;[:-1]
dir = &quot;\\this\\is\\my\\dos\\dir\\&quot;
</pre>
</div>
<div class="section" id="why-doesn-t-python-have-a-with-statement-like-some-other-languages">
<h2><a class="toc-backref" href="#id56">4.26&nbsp;&nbsp;&nbsp;Why doesn't Python have a &quot;with&quot; statement like some other languages?</a></h2>
<p>Because such a construct would be ambiguous.</p>
<p>Some languages, such as Object Pascal, Delphi, and C++, use static
types. So it is possible to know, in an unambiguous way, what member
is being assigned in a &quot;with&quot; clause. This is the main point - the
compiler <em>always</em> knows the scope of every variable at compile time.</p>
<p>Python uses dynamic types. It is impossible to know in advance which
attribute will be referenced at runtime. Member attributes may be
added or removed from objects on the fly. This would make it
impossible to know, from a simple reading, what attribute is being
referenced - a local one, a global one, or a member attribute.</p>
<p>For instance, take the following incomplete snippet:</p>
<pre class="literal-block">
def foo(a):
   with a:
      print x
</pre>
<p>The snippet assumes that &quot;a&quot; must have a member attribute called &quot;x&quot;.
However, there is nothing in Python that guarantees that. What should
happen if &quot;a&quot; is, let us say, an integer? And if I have a global
variable named &quot;x&quot;, will it end up being used inside the with block?
As you see, the dynamic nature of Python makes such choices much
harder.</p>
<p>The primary benefit of &quot;with&quot; and similar language features (reduction
of code volume) can, however, easily be achieved in Python by
assignment. Instead of:</p>
<pre class="literal-block">
function(args).dict[index][index].a = 21
function(args).dict[index][index].b = 42
function(args).dict[index][index].c = 63
</pre>
<p>write this:</p>
<pre class="literal-block">
ref = function(args).dict[index][index]
ref.a = 21
ref.b = 42
ref.c = 63
</pre>
<p>This also has the side-effect of increasing execution speed because
name bindings are resolved at run-time in Python, and the second
version only needs to perform the resolution once. If the referenced
object does not have a, b and c attributes, of course, the end result
is still a run-time exception.</p>
</div>
<div class="section" id="why-are-colons-required-for-the-if-while-def-class-statements">
<h2><a class="toc-backref" href="#id57">4.27&nbsp;&nbsp;&nbsp;Why are colons required for the if/while/def/class statements?</a></h2>
<p>The colon is required primarily to enhance readability (one of the
results of the experimental ABC language).  Consider this:</p>
<pre class="literal-block">
if a==b
    print a
</pre>
<p>versus</p>
<pre class="literal-block">
if a==b:
    print a
</pre>
<p>Notice how the second one is slightly easier to read.  Notice further how
a colon sets off the example in the second line of this FAQ answer; it's
a standard usage in English.</p>
<p>Another minor reason is that the colon makes it easier for editors
with syntax highlighting; they can look for colons to decide when
indentation needs to be increased instead of having to do a more
elaborate parsing of the program text.</p>
</div>
</div>
</div>
</body>
</html>
