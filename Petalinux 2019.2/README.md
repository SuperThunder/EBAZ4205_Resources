## Info
These files were generated by following https://webuiltawallwebuiltthepyramids.blogspot.com/2021/01/ebaz4205-petalinux-installation.html

As going from nothing to working PetaLinux took several frustrating hours of my life, and is actually impossible to do without a decent Linux environment (required for building PetaLinux), I hope to save someone the same hours of their life by simply providing the 2 output files and rootfs options here.


## WithY3_UART1-to-Data2
This was done for an EBAZ4205 with the Y3 crystal for ethernet, so ethernet will not work if your board does not have the Y3 crystal!

Serial is routed to the Data2 header for use with the adapter board that has a VGA port, CH340 + miniUSB, and DC barrel jack. The exact pins are Zynq UART_1_TX -> G20 -> DATA2_5 and Zynq UART_1_RX -> J18 -> DATA2_6.

The pinout of Data2 with the board facing up, on the right side of the Data2:

TOP SIDE

...	Zynq_Tx		GND	12v | RIGHT SIDE

...	Zynq_Rx		GND	12v |

BOTTOM SIDE


If you need a version of these files that contains the change for Y3-less boards or you want the serial port routed elsewhere, make an issue with the changes you want.

Also, for this to work, your board must be set to boot from SD, guides for this can be found elsewhere (involves moving resistors).


## SD Card Preparation

Format an SD card with, in order:
- 4MiB unallocated
- 52 MiB (minimum) to ~100-400 MiB as FAT32, bootable
- Rest of SD card as ext4

This can be done with GParted, the windows disk management tool, etc.


## Copy PetaLinux files

Copy BOOT.bin and image.ub to the FAT32 partition. Follow the instructions in rootfs_options to choose a rootfs (best to start with the petalinux option).


## rootfs options
Essentially any rootfs compiled for armhf architecture should work.
The following have been tested to at least boot and be able to do basic tasks:
- petalinux default
- ubuntu 16.04 minimal
- Arch (now you can say 'I use Arch on my FPGA, btw')

The following booted but had issues:
- ubuntu 20.04 for raspberry pi armhf version (Default login doesn't work, doesn't seem to connect to network, and some kind of snap keeps failing to launch). Additionally, it takes MINUTES to get to the login prompt (even on Pi4, apparently).

Instructions for installing each rootfs are included in the rootfs_options folder.


## Boot Linux
Put your SD card in to the slot on the board, plug in your serial adapter (115200 8N1), and then power the board. You should immediately see the output from Linux booting.
